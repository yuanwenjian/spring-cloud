{"version":3,"sources":["../../lib/helpers/keyStorage.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,OAAO,EAAE,iBAAiB,EAAC,MAAM,kBAAkB,CAAC;AAE5D,IAAI,cAAc,GAAG,OAAO,CAAC;AAC7B,IAAI,wBAAwB,GAAG,iBAAiB,CAAC;AAEjD,MAAM,uBAAuB,IAAW;IACvC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,wBAAwB,CAAC,KAAK,CAAC,CAAC;AACtE,CAAC;AAED;IAAA;IAuBA,CAAC;IArBO,6BAAY,GAAnB,UAAoB,IAAW;QAC9B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,wBAAwB,CAAC,KAAK,CAAC,CAAC;IACtE,CAAC;IAEM,wCAAuB,GAA9B,UAA+B,OAAmB;QACjD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IAClD,CAAC;IAEM,uBAAM,GAAb,UAAc,GAAU;QACvB,EAAE,CAAA,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC;YAC1B,MAAM,KAAK,CAAC,2DAA2D,CAAC,CAAC;QAC1E,MAAM,CAAC,KAAG,cAAc,GAAG,wBAAwB,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAI,CAAC;IACtF,CAAC;IAEM,oCAAmB,GAA1B,UAA2B,GAAoB;QAApB,oBAAA,EAAA,aAAoB;QAC9C,cAAc,GAAG,GAAG,CAAC;IACtB,CAAC;IAEM,uCAAsB,GAA7B,UAA8B,SAAoC;QAApC,0BAAA,EAAA,6BAAoC;QACjE,wBAAwB,GAAG,SAAS,CAAC;IACtC,CAAC;IACF,uBAAC;AAAD,CAvBA,AAuBC,IAAA","file":"keyStorage.js","sourceRoot":"","sourcesContent":["import {IWebStorage} from '../interfaces/webStorage';\r\nimport {LIB_KEY, LIB_KEY_SEPARATOR} from '../constants/lib';\r\n\r\nvar CUSTOM_LIB_KEY = LIB_KEY;\r\nvar CUSTOM_LIB_KEY_SEPARATOR = LIB_KEY_SEPARATOR;\r\n\r\nexport function isManagedKey(sKey:string):boolean {\r\n\treturn sKey.indexOf(CUSTOM_LIB_KEY + CUSTOM_LIB_KEY_SEPARATOR) === 0;\r\n}\r\n\r\nexport class KeyStorageHelper {\r\n\r\n\tstatic isManagedKey(sKey:string):boolean {\r\n\t\treturn sKey.indexOf(CUSTOM_LIB_KEY + CUSTOM_LIB_KEY_SEPARATOR) === 0;\r\n\t}\r\n\r\n\tstatic retrieveKeysFromStorage(storage:IWebStorage):Array<string> {\r\n\t\treturn Object.keys(storage).filter(isManagedKey);\r\n\t}\r\n\r\n\tstatic genKey(raw:string):string {\r\n\t\tif(typeof raw !== 'string')\r\n\t\t\tthrow Error('attempt to generate a storage key with a non string value');\r\n\t\treturn `${CUSTOM_LIB_KEY}${CUSTOM_LIB_KEY_SEPARATOR}${raw.toString().toLowerCase()}`;\r\n\t}\r\n\r\n\tstatic setStorageKeyPrefix(key:string = LIB_KEY) {\r\n\t\tCUSTOM_LIB_KEY = key;\r\n\t}\r\n\r\n\tstatic setStorageKeySeparator(separator:string = LIB_KEY_SEPARATOR) {\r\n\t\tCUSTOM_LIB_KEY_SEPARATOR = separator;\r\n\t}\r\n}\r\n"]}